<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Jam | Atoaa</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsivo.css">
  <link rel="stylesheet" href="fontawesome-free-6.4.2-web/css/fontawesome.css">
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/formulario.css">

</head>

<body>

  <header>
    <a href="index.html"><img src="img/logo.png" alt="logo"></a>
    <span id="hamb"><i class="fa-solid fa-bars"></i></span>
    <nav>
      <ul>
        <li><a href="#" target="_self">Login</a></li>
        <li><a href="#" target="_self">Cadastrar-se</a></li>
      </ul>
    </nav>
  </header>

  <main class="">

    <section class="container">
      <h1>Game Jam do Atoaa</h1>
      <p>Bem-vindo à Game Jam! Explore narrativas únicas, experiências envolventes e desafios criativos enquanto cria o jogo.</p>
    </section>

    <section class="agendamento">
      <h1>Objetivo</h1>
      <p>Desenvolva jogos que conduzam os jogadores por uma jornada única após a morte, repleta de enigmas,
        desafios e descobertas inesperadas.</p>
    </section>

    <section class="agendamento">
      <h1>Tema</h1>
      <p>Promover a criatividade e desenvolver jogos que explorem o mistério do "Caminho Além do Fim".</p>
    </section>

    <section class="agendamento">
      <h1>Detalhes do Mundo Espiritual</h1>
      <p>Explore como almas coexistem e interagem neste plano espiritual. Como a separação entre corpo e alma se
        desenrola neste reino desconhecido?</p>
    </section>

    <section class="agendamento">
      <h1>Corpo e Alma</h1>
      <p>Investigar como a separação entre corpo e alma se desenrola neste reino desconhecido. Como os jogadores
        podem equilibrar a conexão espiritual com a jornada física.</p>
    </section>

    <section class="lista">
      <h1>Regras e Diretrizes</h1>
      <ul>
        <li>Não há mecânicas obrigatórias, mas incentivamos a inovação e a integração criativa de elementos
          relacionados ao tema.</li>
        <li>O jogo tem que ser em estilo RPG ou Estratégia com suspense.</li>
        <li>Sem mecânicas obrigatórias, mas incentivamos inovação e integração criativa de elementos relacionados ao
          tema.</li>
        <li>Envie o jogo com a extensão .catrobat ou .ccode no email, discord ou whatsapp</li>
        <li>A data limite para a entrega dos jogos é até o dia 5 de fevereiro.</li>
      </ul>
    </section>


    <section class="lista">
      <h1>Avaliação e Premiação</h1>
      <ul>
        <li>Os jogos serão avaliados com base em criatividade, sistemas, gráficos, história, sistemas sonoros, e
          qualidade da narrativa.</li>
        <li>A avaliação será realizada por votação, garantindo uma variedade de perspectivas.</li>
        <li>Os prêmios são apenas por entretenimento.</li>
      </ul>
    </section>
    <section class="disponivel">
      <h1>Jogos dos inscritos</h1>

      <div id="carousel-container">
        <div id="carousel-wrapper">
          <!-- Imagens do carrossel serão adicionadas dinamicamente aqui -->
        </div>
        <button id="prevBtn"><i class="fa-solid fa-square-caret-left"></i></button>
        <button id="nextBtn"><i class="fa-solid fa-square-caret-right"></i></button>
      </div>
    </section>

    <section class="containerDepoimento no-animation">
      <!-- Depoimento -->
      <div class="depoimento" id="comentarioContainer">
        <h1>Comentários</h1>
    
    </section>


    <section class="formCadastro">
      <h1>Comente aqui</h1>
      <form action="" class="formComente">
        <label for="autor">Nome</label>
        <input type="text" name="autor" id="autor">
        <label for="comente">Digite um comentário</label>
        <textarea name="comente" id="comente" cols="30" rows="10" maxlength="400"
          placeholder="Está excelente!!"></textarea>
        <button type="submit">Comentar</button>
      </form>

    </section>





  </main>
  <footer>
    <h1>Fale conosco</h1>
    <div class="containerSocial">
      <div class="contatos">

        <a href="https://wa.me/5521967782777?text=Olá, Vim pela a GameJam do Atoaa.">(21) 96778-2777</a>
        <i class="fa-brands fa-whatsapp social"></i>

      </div>
      <div class="contatos">
        <a href="https://github.com/DanielDeveloperBR">https://github.com/DanielDeveloperBR</a>
        <i class="fa-brands fa-github"></i>
      </div>
      <div class="contatos">
        <a href="mailto:danieldetrabalho1@gmail.com">danieldetrabalho1@gmail.com</a>
        <i class="fa-regular fa-envelope social"></i>
      </div>
    </div>

    <div><img src="img/agenda-footer.png" alt="">
    </div>
    <p>&copy; Todos os direitos reservados</p>
  </footer>
  <script src="js/responsivo.js"></script>
  <script defer src="fontawesome-free-6.4.2-web/js/all.js"></script>

<!-- Mostrar os comentarios -->
<script>
  async function carregarComentarios() {
    try {
      const response = await fetch('http://localhost:3000/mostrar');
      const comentarios = await response.json();

      if (comentarios.sucesso.length === 0) {
        // Se não houver comentários, mostrar uma mensagem
        const semComentariosDiv = document.createElement('div');
        semComentariosDiv.textContent = 'Não há comentários ainda.';
        semComentariosDiv.style.margin = '40px auto';
        semComentariosDiv.style.textAlign = 'center';

        document.querySelector('#comentarioContainer').appendChild(semComentariosDiv);
      } else {
        // Se houver comentários, criar os comentários
        comentarios.sucesso.forEach(comment => {
          criarComentario(comment);
        });
      }
    } catch (error) {
      console.error('Erro ao carregar comentários:', error);
    }
  }

  function criarComentario(comment) {
    const containerComentarios = document.querySelector('#comentarioContainer');

    const criarDiv = document.createElement('div');
    criarDiv.classList.add('containerCards');
    criarDiv.style.margin = '40px auto';

    const criarComentario = document.createElement('p');
    const criarAutor = document.createElement('p');
    criarAutor.classList.add('autor');

    criarComentario.textContent = comment.comentario;
    criarAutor.textContent = comment.nome;

    containerComentarios.appendChild(criarDiv);
    criarDiv.appendChild(criarComentario);
    criarDiv.appendChild(criarAutor);
  }

  document.addEventListener('DOMContentLoaded', () => {
    carregarComentarios();
  });
</script>


<!-- Colocar um novo comentario -->
<script>
  const formComente = document.querySelector('.formComente')
  formComente.addEventListener('submit', async (e) => {
      e.preventDefault()
      const comente = document.getElementById('comente').value
      const autor = document.getElementById('autor').value

      if (comente === '' || autor === '') {
          alert("Digite um comentário!")
          return
      }

      const criarDiv = document.createElement('div')
      criarDiv.classList.add('containerCards')
      criarDiv.style.margin = '40px auto'
      const criarComentario = document.createElement('p')
      const criarAutor = document.createElement('p')
      criarAutor.classList.add('autor')
      document.querySelector('#comentarioContainer').appendChild(criarDiv)
      criarDiv.appendChild(criarComentario)
      criarDiv.appendChild(criarAutor)
      criarComentario.textContent = comente
      criarAutor.textContent = autor

      try {
          const response = await fetch(`http://localhost:3000/criarComentario`, {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify({ "nome": autor, "comentario": comente })
          })
          const resultado = await response.json()
          if (resultado.ok) {
            alert("Mensagem enviada com sucesso!")
              formComente.submit()
          } else {
              console.error('Erro ao processar a solicitação:', resultado.erro || 'Erro desconhecido');
          }
      } catch (error) {
          console.error('Erro ao processar a solicitação:', error);
      }
  })
</script>

</body>

</html>